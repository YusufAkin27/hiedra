import{r as e,j as i,u as s,d as r}from"./react-vendor-2SZXphvN.js";import{u as a,a as t}from"./context-DM-lvtsQ.js";import{u as l,L as n}from"./index-Dc0dCqdK.js";import{L as o}from"./LazyImage-B_cTEmQu.js";import{S as c}from"./SEO-BxBC3DWO.js";import"./vendor-invariant-BME_2b6A.js";import"./vendor-shallowequal-CcIhOdxx.js";import"./vendor-scheduler-BVKd3TJG.js";import"./vendor-@remix-run-BWfEV5os.js";const d=e.memo(({title:e,subtitle:s,className:r=""})=>i.jsxs("div",{className:"category-header-home "+r,children:[i.jsx("h2",{className:"category-title-home",children:e}),s&&i.jsx("p",{className:"category-subtitle-home",children:s})]}));r.memo(({selectedProduct:s})=>{const[r,a]=e.useState(!1);return s.mountingType||s.material||s.lightTransmittance||s.pieceCount&&s.pieceCount>0||s.usageArea||s.color?i.jsxs("div",{className:"product-specifications-accordion",children:[i.jsxs("button",{className:"specifications-toggle",onClick:()=>a(!r),children:[i.jsx("h4",{className:"specifications-title",children:"Ürün Özellikleri"}),i.jsx("svg",{className:"accordion-arrow "+(r?"open":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:i.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),r&&i.jsx("div",{className:"specifications-content",children:i.jsxs("div",{className:"specifications-grid",children:[s.mountingType&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Takma Şekli"}),i.jsx("span",{className:"spec-value",children:s.mountingType})]})]}),s.material&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Materyal"}),i.jsx("span",{className:"spec-value",children:s.material})]})]}),s.lightTransmittance&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"5"}),i.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),i.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),i.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),i.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),i.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),i.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),i.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Işık Geçirgenliği"}),i.jsx("span",{className:"spec-value",children:s.lightTransmittance})]})]}),s.pieceCount&&s.pieceCount>0&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Parça Sayısı"}),i.jsxs("span",{className:"spec-value",children:[s.pieceCount," Adet"]})]})]}),s.usageArea&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),i.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Kullanım Alanı"}),i.jsx("span",{className:"spec-value",children:s.usageArea})]})]}),s.color&&i.jsxs("div",{className:"spec-item",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 2v4M12 18v4M2 12h4M18 12h4"})]}),i.jsxs("div",{className:"spec-content",children:[i.jsx("span",{className:"spec-label",children:"Renk"}),i.jsx("span",{className:"spec-value",children:s.color})]})]})]})})]}):null});const m=()=>{const m=s(),{addToCart:p,refreshCart:h}=a(),{accessToken:u}=t(),x=l(),[y,g]=e.useState([]),[j,v]=e.useState(!0),[f,k]=e.useState({}),[N,w]=e.useState({}),[b,C]=e.useState(!1),[F,z]=e.useState(null),[S,P]=e.useState({}),[T,A]=e.useState({}),[E,M]=e.useState({}),[B,I]=e.useState({}),[D,W]=e.useState({}),[L,K]=e.useState({}),O=[{value:"1x1",label:"Seyrek (1x1)"},{value:"1x2",label:"1x2"},{value:"1x3",label:"1x3"}],q="http://localhost:8080/api";e.useEffect(()=>{(async()=>{try{v(!0);const[i,s]=await Promise.all([fetch(q+"/products?page=0&size=100"),fetch(q+"/categories")]);if(i.ok){const e=await i.json();if(e.isSuccess||e.success){let i=[];e.data&&(e.data.content&&Array.isArray(e.data.content)?i=e.data.content:Array.isArray(e.data)&&(i=e.data)),Array.isArray(i)||(i=[]);let r={};if(s.ok){const e=await s.json();(e.isSuccess||e.success)&&(e.data||[]).forEach(e=>{r[e.id]={id:e.id,name:e.name,slug:e.slug||e.name?.toLowerCase().replace(/\s+/g,"-")||""}})}const a=i.filter(e=>(e.quantity||0)>0).map(e=>{const i=e.category?.id||null,s=i&&r[i]?r[i]:{id:i,name:e.category?.name||"Genel",slug:e.category?.slug||e.category?.name?.toLowerCase().replace(/\s+/g,"-")||""};return{id:e.id,name:e.name,price:e.price?parseFloat(e.price):0,image:e.coverImageUrl||"/images/perde1kapak.jpg",detailImages:e.detailImageUrl?[e.detailImageUrl]:[],description:e.description||e.shortDescription||"",shortDescription:e.shortDescription||"",category:s.name,categoryId:s.id,categorySlug:s.slug,color:e.color||"",inStock:(e.quantity||0)>0,productCode:e.productCode||e.code||e.sku||"",quantity:e.quantity||0,mountingType:e.mountingType||"",material:e.material||"",lightTransmittance:e.lightTransmittance||"",pieceCount:e.pieceCount||null,usageArea:e.usageArea||"",reviewCount:e.reviewCount||0,averageRating:e.averageRating||0,viewCount:e.viewCount||0}});g(a)}}else try{await response.json().catch(()=>({}))}catch(e){}}catch(i){}finally{v(!1)}})()},[]);const U=e.useMemo(()=>{const e={};return y.forEach(i=>{const s=i.category;e[s]||(e[s]={name:s,id:i.categoryId,slug:i.categorySlug,products:[]}),e[s].products.push(i)}),Object.values(e).sort((e,i)=>e.name.localeCompare(i.name)).map(e=>({...e,products:e.products.sort((e,i)=>e.name.localeCompare(i.name))})).filter(e=>e.products.length>0)},[y]),$=e.useCallback(e=>{e&&m(`/product/${e}#reviews`)},[m]),G=e.useCallback((e,i,s)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s(i))},[]),R=r.useCallback(async(e,i,s,r)=>{if(!i||!s||!r)return M(i=>{const s={...i};return delete s[e],s}),Promise.resolve();const a=f[e];if(!a||!a.id)return M(i=>{const s={...i};return delete s[e],s}),Promise.resolve();const t=parseFloat(i),l=parseFloat(s);if(isNaN(t)||isNaN(l)||50>t||t>1e3||30>l||l>270)return M(i=>{const s={...i};return delete s[e],s}),Promise.resolve();let n=1;try{const e=r.split("x");2===e.length&&(n=parseFloat(e[1]),isNaN(n)&&(n=1))}catch(m){n=1}const o=t/100;let c=0;void 0!==a.price&&null!==a.price&&("number"==typeof a.price?c=a.price:"string"==typeof a.price&&(c=parseFloat(a.price)||0));const d=c*o*n;return M(i=>({...i,[e]:Math.round(100*d)/100})),Promise.resolve(d)},[f]),H=e=>{P(i=>{const s={...i,[e]:!1};return Object.values(s).some(e=>e)||(document.body.style.overflow=""),s}),A(i=>{const s={...i};return delete s[e],s}),M(i=>{const s={...i};return delete s[e],s}),K(i=>{const s={...i};return delete s[e],s})};e.useEffect(()=>()=>{document.body.style.overflow=""},[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&Object.keys(S).forEach(e=>{S[e]&&H(e)})};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[S]);const V=(e,i,s)=>{const r=s||"",a=((e,i)=>{if(!i||""===i.trim())return{isValid:!1,message:""};const s=parseFloat(i);if(isNaN(s))return{isValid:!1,message:"Lütfen geçerli bir sayı giriniz."};if("en"===e){if(50>s)return{isValid:!1,message:"Genişlik en az 50 cm olmalıdır."};if(s>1e3)return{isValid:!1,message:"Genişlik en fazla 1000 cm olabilir."}}else if("boy"===e){if(30>s)return{isValid:!1,message:"Yükseklik en az 30 cm olmalıdır."};if(s>270)return{isValid:!1,message:"Yükseklik en fazla 270 cm olabilir."}}return{isValid:!0,message:""}})(i,r);A(s=>({...s,[e]:{...s[e],[i]:r}})),K(s=>({...s,[e]:{...s[e],[i]:a.isValid?"":a.message}}))};if(e.useEffect(()=>{const e={};return Object.keys(T).forEach(i=>{const s=T[i],r=f[i];e[i]&&clearTimeout(e[i]);const a=s?.pileSikligi||"1x1";s&&s.en&&s.boy&&a&&r&&r.id?(I(e=>({...e,[i]:!0})),e[i]=setTimeout(async()=>{try{await R(i,s.en,s.boy,a)}catch(e){}finally{I(e=>({...e,[i]:!1}))}},300)):(M(e=>{const s={...e};return delete s[i],s}),I(e=>({...e,[i]:!1})))}),()=>{Object.values(e).forEach(e=>clearTimeout(e))}},[T,f,R]),j)return i.jsx("div",{className:"product-list-container",children:i.jsx(n,{size:"large",text:"Ürünler yükleniyor...",variant:"page"})});const Q={"@context":"https://schema.org","@type":"CollectionPage",name:"Perde Satış - Tül Perde ve Modern Perde Modelleri",description:"Perde satış ve tül perde fiyatları için Hiedra Perde. Zebra perde, Klasik perde, Stor perde, Jaluzi perde ve tül perde modelleri. Uygun perde fiyatı ile kaliteli perde satış.",url:"undefined"!=typeof window?window.location.href:"https://hiedra.com",mainEntity:{"@type":"ItemList",itemListElement:y.slice(0,10).map((e,i)=>({"@type":"ListItem",position:i+1,item:{"@type":"Product",name:e.name,description:e.description||e.shortDescription||"",image:e.image,category:e.category,brand:{"@type":"Brand",name:"Hiedra Perde"},offers:{"@type":"Offer",price:e.price,priceCurrency:"TRY",availability:e.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",url:"undefined"!=typeof window?`${window.location.origin}/product/${e.id}`:"https://hiedra.com/product/"+e.id}}}))}};return i.jsxs("div",{className:"product-list-container",children:[i.jsx(c,{title:"Perde Satış - Tül Perde Fiyatları | Zebra Perde, Klasik Perde | Hiedra Perde",description:"Perde satış ve tül perde fiyatları için Hiedra Perde. Zebra perde, Klasik perde, Stor perde, Jaluzi perde ve tül perde modelleri. Uygun perde fiyatı, kaliteli perde kumaşı, hızlı perde teslimat. Bingöl perde satışı, Erzurum perde satışı. Online perde satış için doğru adres!",keywords:"perde satış, tül perde, perde tül, perde fiyatı, tül perde fiyatı, perde tül fiyatı, zebra perde, zebra perde satış, zebra perde fiyatı, klasik perde, klasik perde satış, klasik perde fiyatı, stor perde, stor perde satış, stor perde fiyatı, jaluzi perde, jaluzi perde satış, jaluzi perde fiyatı, tül perde satış, online perde satış, perde satın al, perdeler, perde fiyatları, uygun perde, uygun perde fiyatları, kaliteli perde, kaliteli perde satış, bingöl perde, bingöl perde satışı, bingöl tül perde, erzurum perde, erzurum perde satışı, erzurum tül perde, perde modelleri, perde çeşitleri, perde koleksiyonu, perde kumaşı, perde kumaşları, perde ölçüsü, özel ölçü perde, perde sipariş, perde teslimat, metre perde fiyatı, m2 perde fiyatı",url:"/",structuredData:[Q,{"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{"@type":"Question",name:"Perde satış fiyatları nasıl belirlenir?",acceptedAnswer:{"@type":"Answer",text:"Perde satış fiyatları metre fiyatı, en ölçüsü ve pile sıklığına göre hesaplanır. Tül perde fiyatları ve diğer perde modelleri için sitemizdeki fiyatlandırma aracını kullanabilirsiniz."}},{"@type":"Question",name:"Tül perde fiyatı nedir?",acceptedAnswer:{"@type":"Answer",text:"Tül perde fiyatı ürün modeline, ölçüye ve pile sıklığına göre değişiklik gösterir. Detaylı tül perde fiyatları için ürün sayfalarını ziyaret edebilirsiniz."}},{"@type":"Question",name:"Perde satış için hangi ölçüler geçerlidir?",acceptedAnswer:{"@type":"Answer",text:"Perde satış için genişlik 50-1000 cm, yükseklik 30-270 cm arasında özel ölçü perde siparişi verebilirsiniz."}},{"@type":"Question",name:"Zebra perde fiyatı ne kadar?",acceptedAnswer:{"@type":"Answer",text:"Zebra perde fiyatı metre fiyatı, en ölçüsü ve pile sıklığına göre hesaplanır. Güncel zebra perde fiyatları için ürün sayfalarını inceleyebilirsiniz."}},{"@type":"Question",name:"Perde teslimat süresi ne kadar?",acceptedAnswer:{"@type":"Answer",text:"Perde teslimat süresi siparişinizin hazırlanması ve kargo süresine bağlıdır. Genellikle 3-7 iş günü içinde perde teslimatı yapılmaktadır."}}]}]}),i.jsx("section",{className:"hero-section-modern",children:i.jsxs("div",{className:"hero-content-modern",children:[i.jsx("h1",{className:"hero-title-modern",children:"Perde Satış - Tül Perde ve Modern Perde Modelleri"}),i.jsx("h2",{className:"hero-subtitle-modern",children:"Uygun Perde Fiyatları ile Toptan Fiyatına Perakende Satış"}),i.jsxs("div",{className:"hero-statistics",children:[i.jsx("div",{className:"stat-number",children:"53.000+"}),i.jsx("div",{className:"stat-label",children:"Mutlu Müşteri Siparişi"})]}),i.jsxs("div",{className:"hero-description",children:[i.jsx("h3",{className:"description-title",children:"Özelleştirilebilir Perde Modelleri - Perde Satış ve Tül Perde Fiyatları"}),i.jsx("p",{className:"description-text",children:"Perde satış ve tül perde fiyatları için Hiedra Perde. En, boy, Pile ve bir çok ayrıntılı seçenek ile kendi perdenizi oluşturun. Uygun perde fiyatı ile zebra perde, klasik perde, stor perde, jaluzi perde ve tül perde modelleri. Türkiye'de ilk defa Villa, tiny house, bungalov ve benzeri yerler için Çatı eğimli perdeler ile size özel seçenekler. Kaliteli perde kumaşı, hızlı perde teslimat."})]})]})}),i.jsx("header",{className:"product-list-header-premium",children:i.jsxs("div",{className:"section-header-content-premium",children:[i.jsx("div",{className:"section-header-badge-premium",children:i.jsx("span",{children:"Koleksiyonlarımız"})}),i.jsx("h1",{className:"section-header-title-premium",children:"Perde Satış - Özenle Seçilmiş Perde Modelleri"}),i.jsx("p",{className:"section-header-subtitle-premium",children:"Perde satış ve tül perde fiyatları için özenle seçilmiş perde koleksiyonlarımızı keşfedin. Zebra perde, klasik perde, stor perde, jaluzi perde ve tül perde modelleri. Uygun perde fiyatı ile kaliteli perde satış."})]})}),i.jsx("div",{className:"categories-showcase-home",children:U.map(e=>{const s=f[e.name]||e.products[0];return i.jsxs("div",{className:"category-section-home",children:[i.jsx(d,{title:e.name,subtitle:e.products.length+" ürün"}),i.jsxs("div",{className:"category-product-showcase-home",children:[i.jsx("div",{className:"product-image-section-home",children:i.jsxs("div",{className:"main-product-image-wrapper-home "+(N[e.name]?"fade-out":"fade-in"),onClick:()=>{return e=s.id,void m("/product/"+e);var e},style:{cursor:"pointer"},title:s.name+" - Ürün detayını görüntüle",children:[i.jsx(o,{src:s.image||"",alt:s.name,className:"main-product-image-home",isLCP:e.name===U[0]?.name,fetchPriority:e.name===U[0]?.name?"high":"auto",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 600px",width:600,height:600}),s.detailImages&&s.detailImages.length>0&&s.detailImages[0]&&i.jsxs("div",{className:"detail-image-preview-home",onClick:e=>{e.stopPropagation(),z(s.detailImages[0]),C(!0)},title:"Detay fotoğrafını görüntüle",children:[i.jsx("div",{className:"detail-image-preview-overlay-home",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[i.jsx("circle",{cx:"11",cy:"11",r:"8"}),i.jsx("path",{d:"m21 21-4.35-4.35"})]})}),i.jsx(o,{src:s.detailImages[0],alt:s.name+" detay",className:"detail-image-preview-img-home"})]})]})}),i.jsxs("div",{className:"product-details-section-home "+(N[e.name]?"fade-out":"fade-in"),children:[i.jsxs("div",{className:"product-header-info-home",children:[i.jsx("h2",{className:"product-title-home",children:s.name}),s.productCode&&i.jsxs("p",{className:"product-code-home",children:["Kod: ",s.productCode]}),(s.averageRating>0||s.reviewCount>0)&&i.jsxs("div",{className:"product-rating-section-home review-link",role:"button",tabIndex:0,onClick:()=>$(s.id),onKeyDown:e=>G(e,s.id,$),"aria-label":"Ürün yorumlarını görüntüle",children:[i.jsx("div",{className:"product-rating-stars-home",children:[1,2,3,4,5].map(e=>{const r=e<=Math.floor(s.averageRating),a=!r&&e-.5<=s.averageRating,t=`half-gradient-home-${s.id}-${e}`;return i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:r?"#FFD700":a?`url(#${t})`:"none",stroke:r||a?"#FFD700":"#ddd",strokeWidth:"2",children:[a&&i.jsx("defs",{children:i.jsxs("linearGradient",{id:t,children:[i.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),i.jsx("stop",{offset:"50%",stopColor:"transparent"})]})}),i.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})]},e)})}),s.averageRating>0&&i.jsx("span",{className:"product-rating-value-home",children:s.averageRating.toFixed(1)}),s.reviewCount>0&&i.jsxs("span",{className:"product-review-count-home",children:["(",s.reviewCount," değerlendirme)"]})]}),i.jsxs("div",{className:"product-price-large-home",children:[i.jsx("span",{className:"price-label-home",children:"Metre Fiyatı:"}),i.jsxs("span",{className:"price-value-home",children:[s.price.toFixed(2)," ₺"]})]})]}),e.products.length>0&&i.jsxs("div",{className:"color-selection-section-home",children:[i.jsx("h3",{className:"color-selection-title-home",children:"RENK SEÇİMİ"}),i.jsx("div",{className:"color-options-home",children:e.products.map(r=>{const a=(e=>{if(!e)return null;const i=e.trim();return i.startsWith("#")&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(i)?i:{beyaz:"#ffffff",white:"#ffffff",siyah:"#000000",black:"#000000",kahverengi:"#8B4513",brown:"#8B4513",krem:"#FFFDD0",cream:"#FFFDD0",bej:"#F5F5DC",beige:"#F5F5DC",gri:"#808080",gray:"#808080",grey:"#808080",mavi:"#0000FF",blue:"#0000FF","yeşil":"#008000",green:"#008000","kırmızı":"#FF0000",red:"#FF0000","sarı":"#FFFF00",yellow:"#FFFF00",turuncu:"#FFA500",orange:"#FFA500",pembe:"#FFC0CB",pink:"#FFC0CB",mor:"#800080",purple:"#800080",lacivert:"#000080",navy:"#000080",turkuaz:"#40E0D0",turquoise:"#40E0D0",bordo:"#800020",burgundy:"#800020"}[i.toLowerCase()]||i})(r.color);return i.jsxs("button",{className:"color-option-home "+(s.id===r.id?"active":""),onClick:()=>((e,i)=>{k(s=>({...s,[i]:e})),w(e=>({...e,[i]:!0})),setTimeout(()=>{w(e=>({...e,[i]:!1}))},150)})(r,e.name),title:r.color||r.name,children:[i.jsx("div",{className:"color-swatch-home",style:{backgroundColor:a||"#ccc"},children:s.id===r.id&&i.jsx("div",{className:"color-checkmark-home",children:i.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:i.jsx("polyline",{points:"20 6 9 17 4 12"})})})}),i.jsx("span",{className:"color-product-name-home",children:r.name})]},r.id)})})]}),(s.mountingType||s.material||s.lightTransmittance||s.usageArea||s.pieceCount||s.color)&&i.jsxs("div",{className:"product-features-home",children:[s.mountingType&&i.jsxs("div",{className:"product-feature-item-home",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),i.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),i.jsxs("span",{children:["Takma Şekli: ",s.mountingType]})]}),s.material&&i.jsxs("div",{className:"product-feature-item-home",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),i.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),i.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]}),i.jsxs("span",{children:["Materyal: ",s.material]})]}),s.lightTransmittance&&i.jsxs("div",{className:"product-feature-item-home",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"5"}),i.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),i.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),i.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),i.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),i.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),i.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),i.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),i.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),i.jsxs("span",{children:["Işık Geçirgenliği: ",s.lightTransmittance]})]}),s.usageArea&&i.jsxs("div",{className:"product-feature-item-home",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),i.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),i.jsxs("span",{children:["Kullanım Alanı: ",s.usageArea]})]}),s.pieceCount&&s.pieceCount>0&&i.jsxs("div",{className:"product-feature-item-home",children:[i.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),i.jsxs("span",{children:["Parça Sayısı: ",s.pieceCount," Adet"]})]})]}),i.jsx("div",{className:"product-actions-home",children:i.jsxs("button",{className:"open-pricing-modal-btn-home",onClick:()=>(e=>{const i=U.find(i=>i.name===e);i&&i.products&&i.products.length>0&&(f[e]&&f[e].id||k(s=>({...s,[e]:i.products[0]}))),P(i=>({...i,[e]:!0})),A(i=>({...i,[e]:{en:"",boy:"",pileSikligi:"1x1"}})),document.body.style.overflow="hidden",setTimeout(()=>{const i=document.getElementById("modal-en-"+e);i&&i.focus()},100)})(e.name),children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"9",cy:"21",r:"1"}),i.jsx("circle",{cx:"20",cy:"21",r:"1"}),i.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),"Sepete Ekle"]})})]})]})]},e.name)})}),U.map(e=>{const s=f[e.name]||e.products[0];return S[e.name]&&s?i.jsx("div",{className:"pricing-modal-overlay-home",onClick:()=>H(e.name),children:i.jsxs("div",{className:"pricing-modal-content-home",onClick:e=>e.stopPropagation(),children:[i.jsx("button",{className:"pricing-modal-close-home",onClick:()=>H(e.name),"aria-label":"Kapat",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),i.jsxs("div",{className:"pricing-modal-header-home",children:[i.jsx("h3",{className:"pricing-modal-title-home",children:"Özel Fiyatlandırma"}),i.jsx("p",{className:"pricing-modal-subtitle-home",children:s.name})]}),i.jsxs("div",{className:"pricing-modal-form-home",children:[i.jsxs("div",{className:"measurement-inputs-home",children:[i.jsxs("div",{className:"measurement-input-group-home",children:[i.jsxs("label",{htmlFor:"modal-en-"+e.name,children:["Genişlik (cm) ",i.jsx("span",{className:"required",children:"*"}),i.jsx("span",{className:"form-hint",children:"Min: 50 cm, Max: 1000 cm"})]}),i.jsx("input",{id:"modal-en-"+e.name,type:"number",min:"50",max:"1000",step:"0.1",placeholder:"Örn: 200",value:T[e.name]?.en||"",onChange:i=>{const s=i.target.value;V(e.name,"en",s)},className:"measurement-input-home "+(L[e.name]?.en?"input-error":""),required:!0}),L[e.name]?.en&&i.jsx("span",{className:"error-message-home",children:L[e.name].en})]}),i.jsxs("div",{className:"measurement-input-group-home",children:[i.jsxs("label",{htmlFor:"modal-boy-"+e.name,children:["Yükseklik (cm) ",i.jsx("span",{className:"required",children:"*"}),i.jsx("span",{className:"form-hint",children:"Min: 30 cm, Max: 270 cm"})]}),i.jsx("input",{id:"modal-boy-"+e.name,type:"number",min:"30",max:"270",step:"0.1",placeholder:"Örn: 250",value:T[e.name]?.boy||"",onChange:i=>{const s=i.target.value;V(e.name,"boy",s)},className:"measurement-input-home "+(L[e.name]?.boy?"input-error":""),required:!0}),L[e.name]?.boy&&i.jsx("span",{className:"error-message-home",children:L[e.name].boy})]}),i.jsxs("div",{className:"measurement-input-group-home",children:[i.jsxs("label",{htmlFor:"modal-pile-"+e.name,children:["Pile Sıklığı ",i.jsx("span",{className:"required",children:"*"})]}),i.jsxs("div",{className:"custom-dropdown-home",children:[i.jsxs("button",{type:"button",className:"dropdown-trigger-home",onClick:()=>W(i=>({...i,[e.name]:!i[e.name]})),onBlur:()=>setTimeout(()=>W(i=>({...i,[e.name]:!1})),200),children:[i.jsx("span",{className:"dropdown-selected-home",children:O.find(i=>i.value===(T[e.name]?.pileSikligi||"1x1"))?.label||O[0].label}),i.jsx("svg",{className:"dropdown-arrow-home "+(D[e.name]?"open":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:i.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),D[e.name]&&i.jsx("div",{className:"dropdown-menu-home",children:O.map(s=>i.jsx("button",{type:"button",className:"dropdown-option-home "+((T[e.name]?.pileSikligi||"1x1")===s.value?"selected":""),onClick:()=>{V(e.name,"pileSikligi",s.value),W(i=>({...i,[e.name]:!1}))},children:i.jsx("span",{className:"option-label-home",children:s.label})},s.value))})]}),i.jsx("p",{className:"form-info-home",children:"Pile sıklığı fiyatlandırmayı etkiler: 1x1 (x1), 1x2 (x2), 1x3 (x3)"})]})]}),i.jsxs("button",{className:"add-to-cart-btn-home",onClick:()=>(async e=>{const i=U.find(i=>i.name===e);if(!i||!i.products||0===i.products.length)return void x.error("Kategori veya ürün bulunamadı.");let s=f[e];if(s&&s.id||(s=i.products[0]),!s||!s.id)return void x.error("Ürün bilgisi bulunamadı.");const r=T[e],a=E[e],t=r?.pileSikligi||"1x1";if(!r||!r.en||!r.boy)return void x.warning("Lütfen en ve boy değerlerini girin!");const l=parseFloat(r.en),n=parseFloat(r.boy);if(isNaN(l)||isNaN(n))return void x.warning("Lütfen geçerli sayısal değerler giriniz.");if(50>l||l>1e3)return void x.warning("Genişlik değeri 50 ile 1000 cm arasında olmalıdır.");if(30>n||n>270)return void x.warning("Yükseklik değeri 30 ile 270 cm arasında olmalıdır.");let o=a;if(!o||0>=o){let e=1;try{const i=t.split("x");2===i.length&&(e=parseFloat(i[1]),isNaN(e)&&(e=1))}catch(c){e=1}let i=0;if(void 0!==s.price&&null!==s.price&&("number"==typeof s.price?i=s.price:"string"==typeof s.price&&(i=parseFloat(s.price)||0)),o=i*(l/100)*e,0>=o)return void x.error("Fiyat hesaplanamadı. Lütfen ürün fiyatının doğru olduğundan emin olun.")}try{let i=null;u||(i=localStorage.getItem("guestUserId"),i||(i="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("guestUserId",i)));const r=`${q}/cart/items${i?"?guestUserId="+i:""}`,a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...u&&{Authorization:"Bearer "+u}},body:JSON.stringify({productId:s.id,quantity:1,width:l,height:n,pleatType:t})});let o;try{const e=await a.text();o=e?JSON.parse(e):{}}catch(d){throw Error("Sunucudan geçersiz yanıt alındı")}if(!a.ok){const e=o.message||o.error||`Sunucu hatası: ${a.status} ${a.statusText}`;throw Error(e)}if(!(!0===o.isSuccess||!0===o.success||o.data&&o.data.id)){const e=o.message||o.error||"Ürün sepete eklenemedi";throw Error(e)}if(h)try{await h()}catch(m){}x.success("Ürün sepete başarıyla eklendi!"),H(e)}catch(p){const e=p.message||"Ürün sepete eklenirken bir hata oluştu. Lütfen tekrar deneyin.";x.error(e)}})(e.name),disabled:!(T[e.name]?.en&&T[e.name]?.boy&&T[e.name]?.pileSikligi&&!L[e.name]?.en&&!L[e.name]?.boy),children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"9",cy:"21",r:"1"}),i.jsx("circle",{cx:"20",cy:"21",r:"1"}),i.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),"Sepete Ekle"]})]})]})},"pricing-modal-"+e.name):null}),b&&F&&i.jsx("div",{className:"detail-modal-overlay-home",onClick:()=>C(!1),children:i.jsxs("div",{className:"detail-modal-content-home",onClick:e=>e.stopPropagation(),children:[i.jsx("button",{className:"detail-modal-close-home",onClick:()=>C(!1),"aria-label":"Kapat",children:i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),i.jsx(o,{src:F,alt:"Ürün detay",className:"detail-modal-image-home"})]})})]})};export{m as default};
