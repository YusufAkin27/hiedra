import{f as a,u as e,r as s,j as i}from"./react-vendor-DfawjiNX.js";import{S as r}from"./SEO-COBDhSYn.js";import"./vendor-invariant-GfE-dftQ.js";import"./vendor-shallowequal-DDPVF0Lr.js";import"./vendor-scheduler-BVKd3TJG.js";import"./vendor-@remix-run-BfCtOoOM.js";const t="http://localhost:8080/api",n=()=>{const[n]=a();e();const[l,c]=s.useState(n.get("trackingNumber")||""),[o,d]=s.useState(n.get("orderNumber")||""),[m,u]=s.useState(""),[p,h]=s.useState(null),[g,j]=s.useState(!1),[N,v]=s.useState("");s.useEffect(()=>{l&&o&&m?k():l&&x()},[]);const x=async()=>{if(l.trim())try{j(!0),v("");const a=new URL(t+"/shipping/track");a.searchParams.append("trackingNumber",l),o&&a.searchParams.append("orderNumber",o);const e=await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();s.isSuccess||s.success?h(s.data):(v(s.message||"Kargo takip bilgisi alÄ±namadÄ±"),h(null))}catch(a){v("Kargo takip bilgisi alÄ±nÄ±rken bir hata oluÅŸtu"),h(null)}finally{j(!1)}else v("LÃ¼tfen takip numarasÄ± giriniz")},k=async()=>{if(o.trim()&&m.trim())try{j(!0),v("");const a=new URL(t+"/shipping/track-by-order");a.searchParams.append("orderNumber",o),a.searchParams.append("email",m);const e=await fetch(a.toString(),{method:"GET",headers:{"Content-Type":"application/json"}}),s=await e.json();s.isSuccess||s.success?(h(s.data),s.data.trackingNumber&&c(s.data.trackingNumber)):(v(s.message||"Kargo takip bilgisi alÄ±namadÄ±"),h(null))}catch(a){v("Kargo takip bilgisi alÄ±nÄ±rken bir hata oluÅŸtu"),h(null)}finally{j(!1)}else v("LÃ¼tfen sipariÅŸ numarasÄ± ve e-posta adresinizi giriniz")},b=a=>{if(!a)return"";try{return new Date(a).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return a}};return i.jsxs("div",{className:"track-shipment-page",children:[i.jsx(r,{title:"Kargo Takip - HIEDRA HOME COLLECTION",description:"SipariÅŸinizin kargo durumunu takip edin",url:"/kargo-takip"}),i.jsxs("div",{className:"track-shipment-container",children:[i.jsx("h1",{children:"Kargo Takip"}),i.jsxs("div",{className:"track-shipment-form",children:[i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"Takip NumarasÄ± ile Sorgula"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"Kargo Takip NumarasÄ±"}),i.jsx("input",{type:"text",value:l,onChange:a=>c(a.target.value),placeholder:"Ã–rn: 1234567890"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"SipariÅŸ NumarasÄ± (Opsiyonel)"}),i.jsx("input",{type:"text",value:o,onChange:a=>d(a.target.value),placeholder:"Ã–rn: ORD-20251109-1234"})]}),i.jsx("button",{onClick:x,disabled:g,className:"btn-track",children:g?"SorgulanÄ±yor...":"Sorgula"})]}),i.jsx("div",{className:"form-divider",children:"veya"}),i.jsxs("div",{className:"form-section",children:[i.jsx("h2",{children:"SipariÅŸ NumarasÄ± ile Sorgula"}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"SipariÅŸ NumarasÄ±"}),i.jsx("input",{type:"text",value:o,onChange:a=>d(a.target.value),placeholder:"Ã–rn: ORD-20251109-1234"})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{children:"E-posta Adresiniz"}),i.jsx("input",{type:"email",value:m,onChange:a=>u(a.target.value),placeholder:"sipariÅŸ@example.com"})]}),i.jsx("button",{onClick:k,disabled:g,className:"btn-track",children:g?"SorgulanÄ±yor...":"Sorgula"})]})]}),N&&i.jsx("div",{className:"tracking-error",children:i.jsx("p",{children:N})}),p&&i.jsxs("div",{className:"tracking-results",children:[i.jsxs("div",{className:"tracking-header",children:[i.jsx("h2",{children:"Kargo Takip Bilgileri"}),i.jsxs("div",{className:"tracking-info",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Takip NumarasÄ±:"})," ",p.trackingNumber]}),i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"Kargo FirmasÄ±:"})," ",p.carrier||"DHL"]}),p.orderNumber&&i.jsxs("div",{className:"info-item",children:[i.jsx("strong",{children:"SipariÅŸ NumarasÄ±:"})," ",p.orderNumber]})]})]}),i.jsxs("div",{className:"tracking-status",children:[i.jsx("div",{className:"status-badge "+(a=>{if(!a)return"tracking-status-unknown";const e=a.toUpperCase();return"DELIVERED"===e?"tracking-status-delivered":"IN_TRANSIT"===e||"OUT_FOR_DELIVERY"===e?"tracking-status-transit":"EXCEPTION"===e?"tracking-status-exception":"tracking-status-pending"})(p.status),children:(f=p.status,f?{IN_TRANSIT:"Kargoda",DELIVERED:"Teslim Edildi",EXCEPTION:"Sorun Var",PENDING:"Beklemede",PICKED_UP:"Kargo AlÄ±ndÄ±",OUT_FOR_DELIVERY:"Teslimat Ä°Ã§in Yola Ã‡Ä±ktÄ±"}[f]||f:"Bilinmiyor")}),p.statusDescription&&i.jsx("p",{className:"status-description",children:p.statusDescription})]}),p.events&&p.events.length>0&&i.jsxs("div",{className:"tracking-events",children:[i.jsx("h3",{children:"Kargo Hareketleri"}),i.jsx("div",{className:"events-timeline",children:p.events.map((a,e)=>i.jsxs("div",{className:"event-item",children:[i.jsx("div",{className:"event-time",children:b(a.timestamp)}),i.jsxs("div",{className:"event-content",children:[i.jsxs("div",{className:"event-location",children:[a.location&&i.jsx("span",{className:"location-icon",children:"ğŸ“"}),a.location||"Konum bilgisi yok"]}),i.jsx("div",{className:"event-description",children:a.description||"AÃ§Ä±klama yok"})]})]},e))})]})]})]})]});var f};export{n as default};
