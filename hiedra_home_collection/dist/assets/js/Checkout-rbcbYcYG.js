import{u as e,r as s,j as i}from"./react-vendor-2SZXphvN.js";import{u as a,a as t}from"./context-DM-lvtsQ.js";import{u as r}from"./index-DNiOTZZd.js";import{S as n}from"./SEO-BxBC3DWO.js";import"./vendor-invariant-BME_2b6A.js";import"./vendor-shallowequal-CcIhOdxx.js";import"./vendor-scheduler-BVKd3TJG.js";import"./vendor-@remix-run-BWfEV5os.js";const l="http://localhost:8080/api",c=()=>{const c=e(),d=a(),{user:o,accessToken:m,isAuthenticated:h}=t(),u=r(),p=d?.cartItems||[],x=d?.getCartTotal||(()=>0),g=d?.getCartSubtotal||(()=>0),j=d?.clearCart||(()=>{}),v=d?.couponCode||null,N=d?.discountAmount||0,f=d?.cartId||null,[y,b]=s.useState(1),[C,w]=s.useState(!1),[k,S]=s.useState([]),[z,L]=s.useState(null),[q,I]=s.useState(!1),[D,M]=s.useState(!1),[F,A]=s.useState({firstName:"",lastName:"",email:"",phone:""}),[T,P]=s.useState({address:"",city:"",district:""}),[B,V]=s.useState(!0),[W,Z]=s.useState({address:"",city:"",district:""}),[$,E]=s.useState({cardNumber:"",expiry:"",cvv:""});s.useEffect(()=>{h&&m?O():A({firstName:"",lastName:"",email:"",phone:""})},[h,m]);const O=async()=>{try{const e=await fetch(l+"/user/profile",{headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}});if(e.ok){const s=await e.json();if(s.isSuccess||s.success){const e=s.data||s;let i="",a="";if(e.fullName){const s=e.fullName.trim().split(/\s+/);i=s[0]||"",a=s.slice(1).join(" ")||""}A({firstName:i,lastName:a,email:e.email||o?.email||"",phone:e.phone||o?.phone||""})}}}catch(e){if(o){let e="",s="";if(o.fullName){const i=o.fullName.trim().split(/\s+/);e=i[0]||"",s=i.slice(1).join(" ")||""}A({firstName:e,lastName:s,email:o.email||"",phone:o.phone||""})}}};s.useEffect(()=>{h&&m&&K()},[h,m]);const K=async()=>{try{M(!0);const e=await fetch(l+"/user/addresses",{headers:{Authorization:"Bearer "+m,"Content-Type":"application/json"}});if(e.ok){const s=await e.json();if(s.isSuccess||s.success){const e=s.data||[];S(e);const i=e.find(e=>e.isDefault)||e[0];i&&(L(i.id),I(!0),U(i),T.address||T.city||T.district||U(i))}}}catch(e){}finally{M(!1)}},U=e=>{e&&P({address:e.addressLine,city:e.city,district:e.district})},H=e=>{L(e);const s=k.find(s=>s.id===e);s&&U(s)},Y=(e=>{const s=e.replace(/\s/g,"");return s?/^4/.test(s)?"visa":/^5[1-5]/.test(s)||/^2[2-7]/.test(s)?"mastercard":/^9792/.test(s)?"troy":null:null})($.cardNumber);if(0===p.length)return i.jsx("div",{className:"checkout-container",children:i.jsxs("div",{className:"empty-checkout",children:[i.jsx("h2",{children:"Sepetiniz boş"}),i.jsx("p",{children:"Ödeme yapmak için sepetinizde ürün bulunmalıdır."}),i.jsx("button",{onClick:()=>c("/"),className:"shop-btn",children:"Alışverişe Başla"})]})});const G={"@context":"https://schema.org","@type":"CheckoutPage",name:"Ödeme - Hiedra Perde",description:"Hiedra Perde siparişinizi tamamlayın. Güvenli ödeme sistemi ile alışveriş yapın.",url:window.location.href};return i.jsxs("div",{className:"checkout-container",children:[i.jsx(n,{title:"Ödeme - Perde Satış Ödeme Sayfası",description:"Perde satış ödeme sayfası. Güvenli ödeme sistemi ile siparişinizi tamamlayın. Hiedra Perde ile güvenli alışveriş.",keywords:"perde ödeme, online perde ödeme, perde satış ödeme, güvenli ödeme, perde sipariş ödeme",url:"/checkout",structuredData:G,noindex:!0}),i.jsxs("header",{className:"checkout-header",children:[i.jsx("h1",{children:"Ödeme"}),i.jsxs("div",{className:"checkout-steps-indicator",children:[i.jsxs("div",{className:`step-indicator ${1>y?"":"active"} ${1===y?"current":""}`,children:[i.jsx("div",{className:"step-number",children:"1"}),i.jsx("div",{className:"step-title",children:"Adres Bilgileri"})]}),i.jsx("div",{className:"step-connector"}),i.jsxs("div",{className:`step-indicator ${2>y?"":"active"} ${2===y?"current":""}`,children:[i.jsx("div",{className:"step-number",children:"2"}),i.jsx("div",{className:"step-title",children:"Ödeme Bilgileri"})]})]})]}),i.jsxs("div",{className:"checkout-content",children:[i.jsx("div",{className:"checkout-form-section",children:i.jsxs("form",{onSubmit:async e=>{if(e&&(e.preventDefault(),e.stopPropagation()),!C&&(()=>{const e=$.cardNumber.replace(/\s/g,"");return e&&16===e.length&&/^\d+$/.test(e)?$.expiry&&/^\d{2}\/\d{2}$/.test($.expiry)?!(!$.cvv||3!==$.cvv.length||!/^\d+$/.test($.cvv))||(u.warning("Lütfen geçerli bir CVV giriniz (3 haneli)."),!1):(u.warning("Lütfen geçerli bir son kullanma tarihi giriniz (MM/YY)."),!1):(u.warning("Lütfen geçerli bir kart numarası giriniz (16 haneli)."),!1)})()){w(!0);try{const e=await(async()=>{try{const s=$.cardNumber.replace(/\s/g,""),i=$.expiry,a=p.map(e=>{const s=(e.customizations?.calculatedPrice||e.price)*e.quantity,i=e.customizations?.en||100,a=e.customizations?.boy||200;return{productId:e.id,productName:e.name,width:i,height:a,pleatType:"pilesiz"===e.customizations?.pileSikligi?"1x1":e.customizations?.pileSikligi||"1x1",quantity:e.quantity,price:s}});let t=null;h&&m||(t=localStorage.getItem("guestUserId"));const r={amount:0,cardNumber:s,cardExpiry:i,cardCvc:$.cvv,firstName:F.firstName,lastName:F.lastName,email:F.email,phone:F.phone.replace(/\D/g,""),address:h&&q&&z?null:T.address,city:h&&q&&z?null:T.city,district:h&&q&&z?null:T.district,addressDetail:null,invoiceAddress:B?null:W.address,invoiceCity:B?null:W.city,invoiceDistrict:B?null:W.district,orderDetails:a,frontendCallbackUrl:window.location.origin+"/payment/3d-callback",addressId:h&&q&&z?z:null,userId:h&&o?.id?o.id:null,cartId:f||null,guestUserId:t,couponCode:v||null},n=await fetch(l+"/payment/card",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),c=(n.headers.get("content-type"),await n.text());let d;try{if(!c||""===c.trim())return{success:!1,message:"Sunucudan yanıt alınamadı."};d=JSON.parse(c)}catch(e){return c.trim().startsWith("<!DOCTYPE")||c.trim().startsWith("<html")?(sessionStorage.setItem("checkoutData",JSON.stringify({contactInfo:F,addressInfo:T,cardInfo:$,items:p,totalPrice:x()})),sessionStorage.setItem("frontendUrl",window.location.origin),document.open(),document.write(c),document.close(),{success:!1,message:"3D Secure yönlendirmesi yapılıyor...",redirecting:!0}):{success:!1,message:"Sunucu yanıtı işlenemedi: "+e.message}}if(n.ok){const e=!0===d.isSuccess||!0===d.success;if(e&&d.data&&"string"==typeof d.data&&(d.data.trim().startsWith("<!DOCTYPE")||d.data.trim().startsWith("<html")||d.data.includes("<form"))){sessionStorage.setItem("checkoutData",JSON.stringify({contactInfo:F,addressInfo:T,cardInfo:$,items:p,totalPrice:x()})),sessionStorage.setItem("frontendUrl",window.location.origin);const e=d.data;return document.open(),document.write(e),document.close(),{success:!1,message:"3D Secure yönlendirmesi yapılıyor...",redirecting:!0}}return!0===d.requires3D&&d.redirectUrl?(sessionStorage.setItem("checkoutData",JSON.stringify({contactInfo:F,addressInfo:T,cardInfo:$,items:p,totalPrice:x()})),sessionStorage.setItem("frontendUrl",window.location.origin),window.location.href=d.redirectUrl,{success:!1,message:"3D Secure yönlendirmesi yapılıyor...",redirecting:!0}):{success:e,message:d.message||(e?"Ödeme başarıyla tamamlandı":"Ödeme işlemi başarısız oldu")}}return{success:!1,message:d.message||`Hata: ${n.status} ${n.statusText}`}}catch(s){return{success:!1,message:s.message||"Ödeme işlemi sırasında bir hata oluştu."}}})();if(e.redirecting)return;if(e.success){const e={orderNumber:"ORD-"+Math.random().toString(36).substring(2,10).toUpperCase(),contactInfo:F,addressInfo:T,cardInfo:$,items:p,totalPrice:x()};j(),sessionStorage.removeItem("checkoutData"),c("/siparis-onayi",{state:{orderData:e}})}else w(!1),c("/odeme-basarisiz",{state:{errorMessage:e.message}})}catch(s){w(!1),c("/odeme-basarisiz")}}},className:"checkout-form",children:[1===y&&i.jsxs("div",{className:"address-step",children:[i.jsxs("section",{className:"form-section contact-section",children:[i.jsxs("div",{className:"section-header",children:[i.jsx("h2",{children:"İletişim Bilgileri"}),i.jsx("p",{className:"section-description",children:"Siparişiniz için gerekli iletişim bilgilerinizi giriniz"})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"firstName",children:[i.jsx("span",{className:"label-text",children:"Ad"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"firstName",name:"firstName",value:F.firstName,onChange:e=>A({...F,firstName:e.target.value}),placeholder:"Adınız",autoComplete:"given-name",className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"lastName",children:[i.jsx("span",{className:"label-text",children:"Soyad"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"lastName",name:"lastName",value:F.lastName,onChange:e=>A({...F,lastName:e.target.value}),placeholder:"Soyadınız",autoComplete:"family-name",className:"form-input",required:!0})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"email",children:[i.jsx("span",{className:"label-text",children:"E-posta"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"email",id:"email",name:"email",value:F.email,onChange:e=>A({...F,email:e.target.value}),placeholder:"ornek@email.com",autoComplete:"email",className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"phone",children:[i.jsx("span",{className:"label-text",children:"Telefon"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:F.phone,onChange:e=>{let s=e.target.value.replace(/\D/g,"");s.startsWith("90")&&s.length>10&&(s=s.substring(2)),s.startsWith("0")&&(s=s.substring(1)),s.length>10||A({...F,phone:s})},placeholder:"5336360079",autoComplete:"tel",maxLength:10,className:"form-input",required:!0}),i.jsx("span",{className:"input-hint",children:"10 haneli telefon numaranızı giriniz (örn: 5336360079)"})]})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Adres Bilgileri"}),h&&k.length>0&&i.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:q,onChange:e=>{if(I(e.target.checked),e.target.checked&&z){const e=k.find(e=>e.id===z);e&&U(e)}else e.target.checked||P({address:"",city:"",district:""})},style:{marginRight:"0.5rem"}}),"Kayıtlı adreslerimden seç"]}),q&&i.jsx("div",{className:"saved-addresses-container",children:D?i.jsxs("div",{className:"address-loading",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("p",{children:"Adresler yükleniyor..."})]}):i.jsx("div",{className:"saved-addresses-grid",children:k.map(e=>i.jsxs("div",{className:"saved-address-card "+(z===e.id?"selected":""),onClick:()=>H(e.id),children:[i.jsxs("div",{className:"address-card-header",children:[i.jsxs("div",{className:"address-radio-wrapper",children:[i.jsx("input",{type:"radio",name:"selectedAddress",checked:z===e.id,onChange:()=>H(e.id),className:"address-radio"}),i.jsx("div",{className:"radio-custom"})]}),e.isDefault&&i.jsxs("span",{className:"default-badge",children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M8 0L10.163 5.674L16 6.182L12 10.326L12.944 16L8 13.174L3.056 16L4 10.326L0 6.182L5.837 5.674L8 0Z",fill:"currentColor"})}),"Varsayılan"]})]}),i.jsxs("div",{className:"address-card-body",children:[i.jsxs("div",{className:"address-name",children:[i.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M10 10C11.3807 10 12.5 8.88071 12.5 7.5C12.5 6.11929 11.3807 5 10 5C8.61929 5 7.5 6.11929 7.5 7.5C7.5 8.88071 8.61929 10 10 10Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M10 18.3333C13.6819 18.3333 16.6667 15.3486 16.6667 11.6667C16.6667 7.98477 13.6819 5 10 5C6.3181 5 3.33334 7.98477 3.33334 11.6667C3.33334 15.3486 6.3181 18.3333 10 18.3333Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.fullName]}),i.jsxs("div",{className:"address-line",children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M8 1.33333C5.05448 1.33333 2.66667 3.72114 2.66667 6.66667C2.66667 10.3333 8 14.6667 8 14.6667C8 14.6667 13.3333 10.3333 13.3333 6.66667C13.3333 3.72114 10.9455 1.33333 8 1.33333ZM8 8.66667C7.26362 8.66667 6.66667 8.06971 6.66667 7.33333C6.66667 6.59695 7.26362 6 8 6C8.73638 6 9.33333 6.59695 9.33333 7.33333C9.33333 8.06971 8.73638 8.66667 8 8.66667Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e.addressLine]}),i.jsxs("div",{className:"address-location",children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M8 1.33333C5.05448 1.33333 2.66667 3.72114 2.66667 6.66667C2.66667 10.3333 8 14.6667 8 14.6667C8 14.6667 13.3333 10.3333 13.3333 6.66667C13.3333 3.72114 10.9455 1.33333 8 1.33333ZM8 8.66667C7.26362 8.66667 6.66667 8.06971 6.66667 7.33333C6.66667 6.59695 7.26362 6 8 6C8.73638 6 9.33333 6.59695 9.33333 7.33333C9.33333 8.06971 8.73638 8.66667 8 8.66667Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),e.district,", ",e.city]})]})]},e.id))})})]}),(!h||!q)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"address",children:["Adres ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"address",name:"address",value:T.address,onChange:e=>P({...T,address:e.target.value}),placeholder:"Mahalle, Sokak, Cadde",autoComplete:"street-address",required:!0})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"city",children:["Şehir ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"city",name:"city",value:T.city,onChange:e=>P({...T,city:e.target.value}),required:!0,placeholder:"Şehir adı"})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"district",children:["İlçe ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"district",name:"district",value:T.district,onChange:e=>P({...T,district:e.target.value}),required:!0,placeholder:"İlçe adı"})]})]})]})]}),i.jsxs("section",{className:"form-section",children:[i.jsx("h2",{children:"Fatura Adresi"}),i.jsx("div",{className:"form-group",children:i.jsxs("label",{children:[i.jsx("input",{type:"checkbox",checked:B,onChange:e=>{V(e.target.checked),e.target.checked&&Z({address:"",city:"",district:""})},style:{marginRight:"0.5rem"}}),"Faturam kargo ile aynı adrese gönderilsin"]})}),!B&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"invoiceAddress",children:["Fatura Adresi ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"invoiceAddress",name:"invoiceAddress",value:W.address,onChange:e=>Z({...W,address:e.target.value}),placeholder:"Mahalle, Sokak, Cadde",autoComplete:"street-address",required:!B})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"invoiceCity",children:["Şehir ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"invoiceCity",name:"invoiceCity",value:W.city,onChange:e=>Z({...W,city:e.target.value}),required:!B,placeholder:"Şehir adı"})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"invoiceDistrict",children:["İlçe ",i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"invoiceDistrict",name:"invoiceDistrict",value:W.district,onChange:e=>Z({...W,district:e.target.value}),required:!B,placeholder:"İlçe adı"})]})]})]})]}),i.jsx("div",{className:"checkout-step-actions",children:i.jsx("button",{type:"button",onClick:()=>{1===y&&(()=>{if(!(F.firstName.trim()?F.lastName.trim()?F.email.trim()&&F.email.includes("@")?F.phone.trim()&&F.phone.length>=10||(u.warning("Lütfen geçerli bir telefon numarası giriniz."),0):(u.warning("Lütfen geçerli bir e-posta adresi giriniz."),0):(u.warning("Lütfen soyadınızı giriniz."),0):(u.warning("Lütfen adınızı giriniz."),0)))return!1;if(!q||!z){if(!T.address.trim())return u.warning("Lütfen adres bilgilerinizi giriniz."),!1;if(!T.city.trim())return u.warning("Lütfen şehir bilgisini giriniz."),!1;if(!T.district.trim())return u.warning("Lütfen ilçe bilgisini giriniz."),!1}if(!B){if(!W.address.trim())return u.warning("Lütfen fatura adres bilgilerinizi giriniz."),!1;if(!W.city.trim())return u.warning("Lütfen fatura şehir bilgisini giriniz."),!1;if(!W.district.trim())return u.warning("Lütfen fatura ilçe bilgisini giriniz."),!1}return!0})()&&(b(2),setTimeout(()=>{const e=document.querySelector(".payment-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100))},className:"btn-next-step",children:"Ödeme Bilgilerine Geç →"})})]}),2===y&&i.jsx("div",{className:"payment-step",children:i.jsxs("section",{className:"form-section payment-section",children:[i.jsxs("div",{className:"payment-section-header",children:[i.jsx("h2",{children:"Ödeme Bilgileri"}),i.jsx("p",{className:"payment-section-subtitle",children:"Güvenli ödeme için kart bilgilerinizi giriniz"})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"cardNumber",children:[i.jsx("span",{className:"label-text",children:"Kart Numarası"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsxs("div",{className:"card-input-wrapper",children:[i.jsx("input",{type:"tel",id:"cardNumber",name:"cardNumber",value:$.cardNumber,onChange:e=>{const s=(e=>{const s=e.replace(/\s/g,"");return(s.match(/.{1,4}/g)?.join(" ")||s).slice(0,19)})(e.target.value);E({...$,cardNumber:s})},placeholder:"1234 5678 9012 3456",maxLength:"19",autoComplete:"cc-number",inputMode:"numeric",pattern:"[0-9\\s]{13,19}",className:"form-input card-number-input",required:!0}),Y&&i.jsxs("div",{className:"detected-card-icon",children:["visa"===Y&&i.jsx("img",{src:"/images/visa.png",alt:"Visa",className:"detected-card-logo"}),"mastercard"===Y&&i.jsx("img",{src:"/images/master.png",alt:"Mastercard",className:"detected-card-logo"}),"troy"===Y&&i.jsx("img",{src:"/images/troy.png",alt:"Troy",className:"detected-card-logo"})]})]})]}),i.jsxs("div",{className:"form-row",children:[i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"expiry",children:[i.jsx("span",{className:"label-text",children:"Son Kullanma Tarihi"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"text",id:"expiry",name:"expiry",value:$.expiry,onChange:e=>{const s=(e=>{const s=e.replace(/\D/g,"");return 0===s.length?"":s.length>2?`${s.slice(0,2)}/${s.slice(2,4)}`:s})(e.target.value);E({...$,expiry:s})},placeholder:"MM/YY",maxLength:"5",autoComplete:"cc-exp",inputMode:"numeric",pattern:"\\d{2}/\\d{2}",className:"form-input",required:!0})]}),i.jsxs("div",{className:"form-group",children:[i.jsxs("label",{htmlFor:"cvv",children:[i.jsx("span",{className:"label-text",children:"CVV"}),i.jsx("span",{className:"required",children:"*"})]}),i.jsx("input",{type:"tel",id:"cvv",name:"cvv",value:$.cvv,onChange:e=>{const s=e.target.value.replace(/\D/g,"");s.length>3||E({...$,cvv:s})},placeholder:"123",maxLength:"3",autoComplete:"cc-csc",inputMode:"numeric",pattern:"[0-9]{3}",className:"form-input",required:!0}),i.jsx("span",{className:"input-hint",children:"Kartınızın arkasındaki 3 haneli güvenlik kodu"})]})]}),i.jsxs("div",{className:"supported-cards-section",children:[i.jsx("p",{className:"supported-cards-label",children:"Kabul Edilen Kartlar"}),i.jsxs("div",{className:"card-icons",children:[i.jsx("span",{className:"card-icon "+("visa"===Y?"active":""),title:"Visa",children:i.jsx("img",{src:"/images/visa.png",alt:"Visa",className:"card-logo-img"})}),i.jsx("span",{className:"card-icon "+("mastercard"===Y?"active":""),title:"Mastercard",children:i.jsx("img",{src:"/images/master.png",alt:"Mastercard",className:"card-logo-img"})}),i.jsx("span",{className:"card-icon "+("troy"===Y?"active":""),title:"Troy",children:i.jsx("img",{src:"/images/troy.png",alt:"Troy",className:"card-logo-img"})})]})]}),i.jsxs("div",{className:"checkout-step-actions",children:[i.jsx("button",{type:"button",onClick:()=>{2===y&&(b(1),setTimeout(()=>{const e=document.querySelector(".address-step");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},100))},className:"btn-prev-step",children:"← Geri"}),i.jsx("button",{type:"submit",className:"btn-complete",disabled:C,children:C?"Ödeme İşleniyor...":"Ödeme Yap"})]})]})})]})}),i.jsxs("aside",{className:"checkout-summary",children:[i.jsxs("div",{className:"summary-header",children:[i.jsx("h2",{children:"Sipariş Özeti"}),i.jsxs("div",{className:"item-count-badge",children:[p.length," ",(p.length,"Ürün")]})]}),i.jsx("div",{className:"summary-items",children:p.map(e=>i.jsxs("div",{className:"summary-item-card",children:[i.jsxs("div",{className:"summary-item-content",children:[i.jsxs("div",{className:"summary-item-header",children:[i.jsx("h3",{className:"item-name",children:e.name}),i.jsxs("div",{className:"item-quantity-badge",children:[e.quantity,"x"]})]}),e.customizations&&i.jsxs("div",{className:"item-specs",children:[i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"En:"}),i.jsxs("span",{className:"spec-value",children:[e.customizations.en," cm"]})]}),i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Boy:"}),i.jsxs("span",{className:"spec-value",children:[e.customizations.boy," cm"]})]}),i.jsxs("div",{className:"spec-item",children:[i.jsx("span",{className:"spec-label",children:"Pile:"}),i.jsx("span",{className:"spec-value",children:"pilesiz"===e.customizations.pileSikligi?"Pilesiz":e.customizations.pileSikligi})]})]})]}),i.jsxs("div",{className:"summary-item-price",children:[((e.customizations?.calculatedPrice||e.price)*e.quantity).toFixed(2)," ₺"]})]},e.itemKey||e.id))}),i.jsxs("div",{className:"summary-total-section",children:[i.jsx("div",{className:"total-divider"}),i.jsxs("div",{className:"total-rows",children:[i.jsxs("div",{className:"total-row",children:[i.jsx("span",{className:"total-label",children:"Ara Toplam"}),i.jsxs("span",{className:"total-value",children:[g().toFixed(2)," ₺"]})]}),N>0&&v&&i.jsxs("div",{className:"total-row discount-row",children:[i.jsxs("span",{className:"total-label",children:[i.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M8 1L9.5 5.5L14 7L9.5 8.5L8 13L6.5 8.5L2 7L6.5 5.5L8 1Z",fill:"currentColor"})}),"Kupon İndirimi (",v,")"]}),i.jsxs("span",{className:"total-value discount-amount",children:["-",N.toFixed(2)," ₺"]})]}),i.jsxs("div",{className:"total-row shipping-row",children:[i.jsxs("span",{className:"total-label",children:[i.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("path",{d:"M2 4H10V12H2V4Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M10 6H14L15 7V12H10V6Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M5 12C5.55228 12 6 11.5523 6 11C6 10.4477 5.55228 10 5 10C4.44772 10 4 10.4477 4 11C4 11.5523 4.44772 12 5 12Z",fill:"currentColor"}),i.jsx("path",{d:"M12 12C12.5523 12 13 11.5523 13 11C13 10.4477 12.5523 10 12 10C11.4477 10 11 10.4477 11 11C11 11.5523 11.4477 12 12 12Z",fill:"currentColor"})]}),"Kargo"]}),i.jsx("span",{className:"total-value free-shipping",children:"Ücretsiz"})]})]}),i.jsx("div",{className:"total-divider"}),i.jsxs("div",{className:"total-final",children:[i.jsx("span",{className:"final-label",children:"Toplam"}),i.jsxs("span",{className:"final-value",children:[x().toFixed(2)," ₺"]})]})]})]})]})]})};export{c as default};
