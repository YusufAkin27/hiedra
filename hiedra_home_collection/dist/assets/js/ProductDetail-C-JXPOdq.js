import{e,u as s,r as i,d as a,j as r,L as t}from"./react-vendor-2SZXphvN.js";import{u as l,a as n}from"./context-DM-lvtsQ.js";import{L as c}from"./LazyImage-BKlGv7qa.js";import{S as o}from"./SEO-BxBC3DWO.js";import"./vendor-invariant-BME_2b6A.js";import"./vendor-shallowequal-CcIhOdxx.js";import"./vendor-scheduler-BVKd3TJG.js";import"./vendor-@remix-run-BWfEV5os.js";import"./index-Crsy7Mnx.js";const d="http://localhost:8080/api",m=()=>{const{id:m}=e();s();const{refreshCart:p}=l(),{accessToken:h}=n(),[x,u]=i.useState(1),[g,j]=i.useState(null),[v,y]=i.useState(!0),[w,N]=i.useState(!1),[f,b]=i.useState(""),[k,C]=i.useState(!1),[F,S]=i.useState(""),[T,B]=i.useState(""),[M,z]=i.useState("1x1"),[I,R]=i.useState(0),[P,$]=i.useState(!1),[A,D]=i.useState(!1),[W,V]=i.useState(!1),[E,q]=i.useState([]),[G,O]=i.useState({en:"",boy:""}),[U,L]=i.useState(!1),H=[{value:"1x1",label:"Pilesiz (1x1)"},{value:"1x2",label:"1x2"},{value:"1x3",label:"1x3"}],K=e=>{if(!e)return null;const s=e.trim();return s.startsWith("#")&&/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(s)?s:{beyaz:"#ffffff",white:"#ffffff",siyah:"#000000",black:"#000000",kahverengi:"#8B4513",brown:"#8B4513",krem:"#FFFDD0",cream:"#FFFDD0",bej:"#F5F5DC",beige:"#F5F5DC",gri:"#808080",gray:"#808080",grey:"#808080",mavi:"#0000FF",blue:"#0000FF","yeşil":"#008000",green:"#008000","kırmızı":"#FF0000",red:"#FF0000","sarı":"#FFFF00",yellow:"#FFFF00",turuncu:"#FFA500",orange:"#FFA500",pembe:"#FFC0CB",pink:"#FFC0CB",mor:"#800080",purple:"#800080",lacivert:"#000080",navy:"#000080",turkuaz:"#40E0D0",turquoise:"#40E0D0",bordo:"#800020",burgundy:"#800020"}[s.toLowerCase()]||s};i.useEffect(()=>{(async()=>{if(m)try{y(!0),j(null);const e="string"==typeof m?parseInt(m,10):m;if(isNaN(e))return void y(!1);const s=await fetch(`${d}/products/${e}`);if(s.ok){const i=await s.json();if(i.isSuccess||i.success){const s=i.data||i,a="number"==typeof s.price?s.price:parseFloat(s.price)||0;j({...s,id:s.id||e,name:s.name||"Ürün",price:a,image:s.coverImageUrl||s.image||"/images/perde1kapak.jpg",detailImages:s.detailImageUrl?Array.isArray(s.detailImageUrl)?s.detailImageUrl:[s.detailImageUrl]:[],inStock:(s.quantity||0)>0,category:s.category?.name||s.category||"Genel",mountingType:s.mountingType||"",material:s.material||"",lightTransmittance:s.lightTransmittance||"",pieceCount:s.pieceCount||null,usageArea:s.usageArea||"",color:s.color||"",reviewCount:s.reviewCount||0,averageRating:s.averageRating||0,viewCount:s.viewCount||0})}else j(null)}else s.status,j(null)}catch(e){j(null)}finally{y(!1)}else y(!1)})()},[m]),i.useEffect(()=>(document.body.style.overflow=U?"hidden":"",()=>{document.body.style.overflow=""}),[U]),i.useEffect(()=>{(async()=>{try{const e=await fetch(d+"/products");if(e.ok){const s=await e.json();if(s.isSuccess||s.success){const e=(s.data||[]).map(e=>({id:e.id,name:e.name,price:e.price?parseFloat(e.price):0,image:e.coverImageUrl||"/images/perde1kapak.jpg",description:e.description||"",category:e.category?.name||"Genel",inStock:(e.quantity||0)>0}));q(e)}}}catch(e){}})()},[]);const Y=a.useCallback((e,s)=>{if(!g||!g.price)return void R(0);let i=1;try{const e=s.split("x");2===e.length&&(i=parseFloat(e[1]),isNaN(i)&&(i=1))}catch(t){i=1}const a=e/100,r="number"==typeof g.price?g.price:parseFloat(g.price)||0;R(Math.round(r*a*i*100)/100)},[g]),J=a.useCallback(async(e,s,i)=>{if(!(e&&s&&i&&g&&g.id))return void R(0);const a=parseFloat(e),r=parseFloat(s);if(!isNaN(a)&&!isNaN(r)&&a>0&&r>0){D(!0);try{const e=await fetch(`${d}/products/${g.id}/calculate-price`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({width:a,height:r,pleatType:i,price:g.price})});if(e.ok){const s=await e.json();if(s.isSuccess||s.success){const e=parseFloat(s.data.calculatedPrice);R(isNaN(e)?0:e)}else Y(a,i)}else Y(a,i)}catch(t){Y(a,i)}finally{D(!1)}}else R(0)},[g,Y]),_=(e,s)=>{if(!s||""===s.trim())return{isValid:!1,message:""};const i=parseFloat(s);if(isNaN(i))return{isValid:!1,message:"Lütfen geçerli bir sayı giriniz."};if("en"===e){if(50>i)return{isValid:!1,message:"Genişlik en az 50 cm olmalıdır."};if(i>1e3)return{isValid:!1,message:"Genişlik en fazla 1000 cm olabilir."}}else if("boy"===e){if(30>i)return{isValid:!1,message:"Yükseklik en az 30 cm olmalıdır."};if(i>270)return{isValid:!1,message:"Yükseklik en fazla 270 cm olabilir."}}return{isValid:!0,message:""}};i.useEffect(()=>{const e=_("en",F),s=_("boy",T);if(O({en:e.message,boy:s.message}),g&&g.id&&F&&T&&M&&e.isValid&&s.isValid){const e=setTimeout(()=>{J(F,T,M)},500);return()=>clearTimeout(e)}R(0)},[F,T,M,g?.id,g?.price,J]);const Q=i.useMemo(()=>g&&g.id&&g.name&&g.price?{"@context":"https://schema.org","@type":"Product",name:(g.name||"Ürün")+" - Perde Satış",description:(g.description||"")+" Perde satış için Hiedra'yı ziyaret edin. Kaliteli kumaş, uygun fiyat, hızlı teslimat.",image:g.image?g.image.startsWith("http")?g.image:`${"undefined"!=typeof window?window.location.origin:"https://hiedra.com"}${g.image}`:"/images/perde1kapak.jpg",sku:"PROD-"+g.id,mpn:"HIEDRA-"+g.id,category:(g.category||"Genel")+" Perde",brand:{"@type":"Brand",name:"Hiedra Perde"},manufacturer:{"@type":"Organization",name:"Hiedra Perde"},offers:{"@type":"Offer",url:"undefined"!=typeof window?window.location.href:"https://hiedra.com/product/"+g.id,priceCurrency:"TRY",price:("number"==typeof g.price?g.price:parseFloat(g.price)||0).toString(),priceValidUntil:new Date(Date.now()+31536e6).toISOString().split("T")[0],availability:g.inStock?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition",seller:{"@type":"Organization",name:"Hiedra Perde"},priceSpecification:{"@type":"UnitPriceSpecification",priceCurrency:"TRY",price:("number"==typeof g.price?g.price:parseFloat(g.price)||0).toString(),unitCode:"MTR",unitText:"metre"}},aggregateRating:{"@type":"AggregateRating",ratingValue:(g.averageRating||4.8).toString(),reviewCount:(g.reviewCount||0).toString(),bestRating:"5",worstRating:"1"},review:g.reviewCount>0?[{"@type":"Review",reviewRating:{"@type":"Rating",ratingValue:(g.averageRating||5).toString(),bestRating:"5"},author:{"@type":"Person",name:"Müşteri"},reviewBody:(g.name||"Ürün")+" ürünü kaliteli ve hızlı teslimat ile memnun kaldık."}]:[]}:null,[g]),X=a.useCallback(async e=>{if(e.preventDefault(),b(""),C(!1),!F||!T)return void b("Lütfen en ve boy değerlerini giriniz.");const s=parseFloat(F),i=parseFloat(T);if(isNaN(s)||isNaN(i))b("Lütfen geçerli sayısal değerler giriniz.");else if(50>s||s>1e3)b("Genişlik değeri 50 ile 1000 cm arasında olmalıdır.");else if(30>i||i>270)b("Yükseklik değeri 30 ile 270 cm arasında olmalıdır.");else if(g&&g.id){N(!0);try{let e=null;h||(e=localStorage.getItem("guestUserId"),e||(e="guest_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("guestUserId",e)));const a=await fetch(`${d}/cart/items${e?"?guestUserId="+e:""}`,{method:"POST",headers:{"Content-Type":"application/json",...h&&{Authorization:"Bearer "+h}},body:JSON.stringify({productId:g.id,quantity:x,width:s,height:i,pleatType:M})}),r=await a.json();if(!a.ok||!r.isSuccess&&!r.success)throw Error(r.message||"Ürün sepete eklenemedi");p&&await p(),C(!0)}catch(a){b(a.message||"Ürün sepete eklenirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{N(!1)}}else b("Ürün bilgisi bulunamadı.")},[g,x,F,T,M,I,h,p]);return v?r.jsx("div",{className:"product-detail-container",children:r.jsxs("div",{className:"loading-state",children:[r.jsx("div",{className:"loading-spinner"}),r.jsx("p",{children:"Ürün bilgileri yükleniyor..."})]})}):g?r.jsxs("div",{className:"product-detail-container",children:[g&&r.jsx(o,{title:`${g.name} - ${g.category} Perde Satış | Fiyat: ${g.price} ₺`,description:`${g.description} ${g.category} perde satış için en uygun fiyat: ${g.price} ₺. Kaliteli kumaş, hızlı teslimat. Perde satın al.`,keywords:`${g.name}, ${g.category} perde satış, ${g.category.toLowerCase()} perde, perde satış, online perde satış, ${g.price} TL perde, kaliteli perde`,image:g.image,url:"/product/"+g.id,type:"product",structuredData:Q}),g&&r.jsxs("div",{className:"product-detail-wrapper",children:[r.jsx("div",{className:"product-category-top",children:r.jsx("span",{className:"product-category-top-text",children:g.category||"Genel"})}),r.jsx("div",{className:"product-name-top",children:r.jsx("h1",{className:"product-name-top-text",children:g.name})}),r.jsxs("div",{className:"product-detail-content",children:[r.jsxs("section",{className:"product-detail-images",children:[r.jsx("div",{className:"product-image-section-home",children:r.jsxs("div",{className:"main-product-image-wrapper-home fade-in",children:[r.jsx(c,{src:g.image||"",alt:`${g.name} - ${g.category} perde modeli`,className:"main-product-image-home",isLCP:!0,fetchPriority:"high",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 800px",width:800,height:800}),g.detailImages&&g.detailImages.length>0&&g.detailImages[0]&&r.jsxs("div",{className:"detail-image-preview-home",onClick:()=>L(!0),title:"Detay fotoğrafını görüntüle",children:[r.jsx("div",{className:"detail-image-preview-overlay-home",children:r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[r.jsx("circle",{cx:"11",cy:"11",r:"8"}),r.jsx("path",{d:"m21 21-4.35-4.35"})]})}),r.jsx(c,{src:g.detailImages[0],alt:g.name+" detay",className:"detail-image-preview-img-home"})]})]})}),g.description&&r.jsx("div",{className:"product-description-section",children:r.jsx("p",{className:"product-description",children:g.description})}),(g.mountingType||g.material||g.lightTransmittance||g.pieceCount||g.color||g.usageArea||g.pleatType||g.width&&g.height)&&r.jsxs("div",{className:"product-specifications-below-images",children:[r.jsxs("h3",{className:"specifications-title-below",children:[r.jsx("span",{className:"spec-category-name",children:g.category||"Genel"}),r.jsx("span",{className:"spec-title-text",children:"Ürün Özellikleri"})]}),r.jsxs("div",{className:"specifications-grid-below",children:[g.mountingType&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Takma Şekli"}),r.jsx("span",{className:"spec-value-below",children:g.mountingType})]})]}),g.material&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),r.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),r.jsx("line",{x1:"9",y1:"21",x2:"9",y2:"9"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Materyal"}),r.jsx("span",{className:"spec-value-below",children:g.material})]})]}),g.pleatType&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Pile"}),r.jsx("span",{className:"spec-value-below",children:g.pleatType})]})]}),g.lightTransmittance&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"5"}),r.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),r.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),r.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),r.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),r.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),r.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),r.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),r.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Işık Geçirgenliği"}),r.jsx("span",{className:"spec-value-below",children:g.lightTransmittance})]})]}),g.pieceCount&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),r.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),r.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Parça Sayısı"}),r.jsxs("span",{className:"spec-value-below",children:[g.pieceCount," Adet"]})]})]}),g.color&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("circle",{cx:"12",cy:"12",r:"10"}),r.jsx("path",{d:"M12 2v4M12 18v4M2 12h4M18 12h4"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Renk"}),r.jsx("div",{className:"spec-color-display-below",children:r.jsx("div",{className:"color-swatch-below",style:{backgroundColor:K(g.color)||"#ccc",border:"2px solid "+(K(g.color)||"#ccc")},title:g.color})})]})]}),g.width&&g.height&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"})})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Beden"}),r.jsxs("span",{className:"spec-value-below",children:[g.width," x ",g.height," cm"]})]})]}),g.usageArea&&r.jsxs("div",{className:"spec-item-below",children:[r.jsx("div",{className:"spec-icon-wrapper",children:r.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),r.jsx("circle",{cx:"12",cy:"10",r:"3"})]})}),r.jsxs("div",{className:"spec-content-below",children:[r.jsx("span",{className:"spec-label-below",children:"Kullanım Alanı"}),r.jsx("span",{className:"spec-value-below",children:g.usageArea})]})]})]})]})]}),r.jsxs("article",{className:"product-detail-info",children:[r.jsxs("div",{className:"product-header-info",children:[g.productCode&&r.jsxs("span",{className:"product-code",children:["Ürün Kodu: ",r.jsx("strong",{children:g.productCode})]}),(g.averageRating&&g.averageRating>0||g.reviewCount&&g.reviewCount>0)&&r.jsxs("div",{className:"product-rating-section",children:[r.jsxs("div",{className:"rating-stars",children:[[1,2,3,4,5].map(e=>{const s=g.averageRating||0,i=Math.floor(s)>=e;return r.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:i?"#FFD700":"none",stroke:i?"#FFD700":"#ddd",strokeWidth:"2",children:r.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},e)}),g.averageRating>0&&r.jsx("span",{className:"rating-value",children:g.averageRating.toFixed(1)})]}),g.reviewCount>0&&r.jsxs("span",{className:"review-count",children:["(",g.reviewCount," ",(g.reviewCount,"yorum"),")"]})]}),r.jsx("div",{className:"detail-price-section-top",children:r.jsxs("div",{className:"price-info-top",children:[r.jsx("span",{className:"price-label-top",children:"Metre Fiyatı:"}),r.jsxs("span",{className:"detail-price-top",children:[g.price.toFixed(2)," ₺"]})]})})]}),r.jsxs("div",{className:"product-features",children:[r.jsxs("div",{className:"feature-item",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),r.jsx("span",{children:"Kaliteli Kumaş"})]}),r.jsxs("div",{className:"feature-item",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),r.jsx("span",{children:"Hızlı Teslimat"})]}),r.jsxs("div",{className:"feature-item",children:[r.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),r.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),r.jsx("span",{children:"Uygun Fiyat"})]})]}),r.jsxs("div",{className:"pricing-form-wrapper",children:[r.jsxs("button",{type:"button",className:"pricing-form-toggle",onClick:()=>V(!W),children:[r.jsx("h2",{className:"form-title",children:"Özel Fiyatlandırma"}),r.jsx("svg",{className:"form-toggle-arrow "+(W?"open":""),width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),r.jsxs("form",{className:"pricing-form "+(W?"open":""),onSubmit:X,children:[r.jsxs("div",{className:"form-section",children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"en",children:["Genişlik (cm) ",r.jsx("span",{className:"required",children:"*"}),r.jsx("span",{className:"form-hint",children:"Min: 50 cm, Max: 1000 cm"})]}),r.jsx("input",{type:"number",id:"en",value:F,onChange:e=>{const s=e.target.value;S(s)},min:"50",max:"1000",step:"0.1",placeholder:"Örn: 200",className:G.en?"input-error":"",required:!0}),G.en&&r.jsx("span",{className:"error-message",children:G.en})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"boy",children:["Yükseklik (cm) ",r.jsx("span",{className:"required",children:"*"}),r.jsx("span",{className:"form-hint",children:"Min: 30 cm, Max: 270 cm"})]}),r.jsx("input",{type:"number",id:"boy",value:T,onChange:e=>{const s=e.target.value;B(s)},min:"30",max:"270",step:"0.1",placeholder:"Örn: 250",className:G.boy?"input-error":"",required:!0}),G.boy&&r.jsx("span",{className:"error-message",children:G.boy})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"pileSikligi",children:["Pile Sıklığı ",r.jsx("span",{className:"required",children:"*"})]}),r.jsxs("div",{className:"custom-dropdown",children:[r.jsxs("button",{type:"button",className:"dropdown-trigger",onClick:()=>$(!P),onBlur:()=>setTimeout(()=>$(!1),200),children:[r.jsx("span",{className:"dropdown-selected",children:H.find(e=>e.value===M)?.label}),r.jsx("svg",{className:"dropdown-arrow "+(P?"open":""),width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:r.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),P&&r.jsx("div",{className:"dropdown-menu",children:H.map(e=>r.jsx("button",{type:"button",className:"dropdown-option "+(M===e.value?"selected":""),onClick:()=>{z(e.value),$(!1)},children:r.jsx("span",{className:"option-label",children:e.label})},e.value))})]}),r.jsx("p",{className:"form-info",children:"Pile sıklığı fiyatlandırmayı etkiler: 1x1 (x1), 1x2 (x2), 1x3 (x3)"})]}),I>0&&r.jsx("div",{className:"calculated-price-section",children:r.jsxs("div",{className:"price-breakdown",children:[r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{children:"Metre Fiyatı:"}),r.jsxs("span",{children:[g.price," ₺"]})]}),r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{children:"En:"}),r.jsxs("span",{children:[F," cm (",parseFloat(F)/100," m)"]})]}),r.jsxs("div",{className:"breakdown-item",children:[r.jsx("span",{children:"Pile Çarpanı:"}),r.jsx("span",{children:M})]}),r.jsxs("div",{className:"breakdown-item total",children:[r.jsx("span",{children:"Toplam Fiyat:"}),r.jsx("span",{className:"total-price",children:A?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"spinner",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{animation:"spin 1s linear infinite",display:"inline-block",marginRight:"0.5rem",verticalAlign:"middle"},children:r.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Hesaplanıyor..."]}):I.toFixed(2)+" ₺"})]})]})})]}),r.jsxs("div",{className:"quantity-section",children:[r.jsx("label",{children:"Adet:"}),r.jsxs("div",{className:"quantity-controls",children:[r.jsx("button",{type:"button",onClick:()=>u(Math.max(1,x-1)),children:"-"}),r.jsx("span",{children:x}),r.jsx("button",{type:"button",onClick:()=>u(x+1),children:"+"})]})]}),f&&r.jsx("div",{className:"error-message",style:{padding:"1rem",backgroundColor:"#fee",color:"#c33",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #fcc"},children:f}),k&&r.jsx("div",{className:"success-message",style:{padding:"1rem",backgroundColor:"#efe",color:"#3c3",borderRadius:"8px",marginBottom:"1rem",border:"1px solid #cfc"},children:"✓ Ürün sepete başarıyla eklendi!"}),r.jsx("button",{type:"submit",className:"add-to-cart-btn",disabled:!F||!T||0===I||w||!!G.en||!!G.boy,children:w?r.jsxs(r.Fragment,{children:[r.jsx("svg",{className:"spinner",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{animation:"spin 1s linear infinite",marginRight:"0.5rem"},children:r.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}),"Ekleniyor..."]}):"Sepete Ekle"})]})]})]})]})]}),g&&(()=>{const e=E.filter(e=>e.id!==g.id&&e.category===(g.category||"Genel"));return 0===e.length?null:r.jsxs("section",{className:"similar-products-widget",children:[r.jsxs("div",{className:"similar-products-header",children:[r.jsx("h2",{className:"similar-products-title",children:"Benzer Ürünler"}),r.jsxs("p",{className:"similar-products-subtitle",children:[g.category||"Genel"," kategorisindeki diğer ürünler"]})]}),r.jsx("div",{className:"similar-products-scroll-container",children:r.jsx("div",{className:"similar-products-scroll",children:e.map(e=>r.jsxs(t,{to:"/product/"+e.id,className:"similar-product-item",children:[r.jsx("div",{className:"similar-product-image-wrapper",children:r.jsx(c,{src:e.image,alt:e.name,className:"similar-product-image"})}),r.jsx("div",{className:"similar-product-name",children:e.name})]},e.id))})})]})})(),U&&g.detailImages&&g.detailImages.length>0&&g.detailImages[0]&&r.jsx("div",{className:"detail-image-modal",onClick:()=>L(!1),children:r.jsxs("div",{className:"detail-image-modal-content",onClick:e=>e.stopPropagation(),children:[r.jsx("button",{className:"detail-image-modal-close",onClick:()=>L(!1),"aria-label":"Kapat",children:r.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),r.jsx(c,{src:g.detailImages[0],alt:g.name+" detay görüntüleme",className:"detail-image-modal-img"})]})})]}):r.jsx("div",{className:"product-detail-container",children:r.jsxs("div",{className:"product-not-found",children:[r.jsx("h2",{children:"Ürün bulunamadı"}),r.jsx("p",{children:"Aradığınız ürün mevcut değil veya silinmiş olabilir."}),r.jsx(t,{to:"/",className:"back-to-home-btn",children:"Ana Sayfaya Dön"})]})})};export{m as default};
